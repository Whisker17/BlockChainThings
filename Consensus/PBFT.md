# PBFT

对于共识，我们知道关于共识的效率，所受的影响有两方面，一是确认时间，另一是可扩展性，这里的可扩展性包括了网络中各个节点的动态性，即不稳定性。

## PBFT与PoW之间的比较

首先我们要确定的是，PBFT和PoW是完全不同的两种基于共识的方案。

PBFT是需要一定的前提的，需要各个节点之间知道彼此的公信力并且需要保证自己的节点有一定的稳定性。并且，我们之前所说的关于共识的效率中，我们也讨论了相关影响因素。在PBFT中，我们可以确定其确认时间是非常快速的，但是作为一种三阶段提交的变种，节点之间的交流导致了是一个O(n*n)的复杂度，而PoW则是简单的一次Broadcast的过程，将记账权的争夺和投票过程浓缩成为一个过程——挖矿。比如我们在一个系统中存在100个节点，在PBFT中，如果你需要确认网络中其他节点都收到了你的消息，整体网络就需要发送10000条消息，这样的性能显而易见是无法大幅提升的。

PoW作为一种很巧妙的投票方式，不需要节点两两之间通信询问情况，节点本身变化了就进行广播。与此同时，PoW的共识是不需要获得许可的。但是这也衍生了一个新的问题，因为我们都知道，网络中传输效率和延迟有瓶颈，所以当你需要广播的信息过大时，就可能会有损耗，从而影响可靠性。

所以综上所述，PoW这类共识更适合于公链这样的模式，而BFT的这类共识更适合联盟链或者私链这样的模式。